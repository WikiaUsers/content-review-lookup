//This page will be imported to Special:ImportJS near Halloween.

//These scripts load one bat each, similar (but more lightweight) to MediaWiki:Christmas.js

;(function () {
var r=Math.random,n=0,d=document,w=window,
	i=d.createElement('img'),
	z=d.createElement('div'),
	zs=z.style,
	a=w.innerWidth*r(),b=w.innerHeight*r();
zs.position="fixed";
zs.left=0;
zs.top=0;
zs.opacity=0;
z.appendChild(i);
i.src='https://vignette.wikia.nocookie.net/drawntolife/images/c/cd/Bat_Fly.gif/revision/latest?cb=20151222142353';
d.body.appendChild(z);
function R(o,m){return Math.max(Math.min(o+(r()-.5)*400,m-50),50)}
function A(){
	var x=R(a,w.innerWidth),y=R(b,w.innerHeight),
		d=5*Math.sqrt((a-x)*(a-x)+(b-y)*(b-y));
	zs.opacity=n;n=1;
	zs.transition=zs.webkitTransition=d/1e3+'s linear';
	zs.transform=zs.webkitTransform='translate('+x+'px,'+y+'px)';
	i.style.transform=i.style.webkitTransform=(a>x)?'':'scaleX(-1)';
	a=x;b=y;
	setTimeout(A,d);
};setTimeout(A,r()*3e3);
})();
 
;(function () {
var r=Math.random,n=0,d=document,w=window,
	i=d.createElement('img'),
	z=d.createElement('div'),
	zs=z.style,
	a=w.innerWidth*r(),b=w.innerHeight*r();
zs.position="fixed";
zs.left=0;
zs.top=0;
zs.opacity=0;
z.appendChild(i);
i.src='https://vignette.wikia.nocookie.net/drawntolife/images/c/cd/Bat_Fly.gif/revision/latest?cb=20151222142353';
d.body.appendChild(z);
function R(o,m){return Math.max(Math.min(o+(r()-.5)*400,m-50),50)}
function A(){
	var x=R(a,w.innerWidth),y=R(b,w.innerHeight),
		d=5*Math.sqrt((a-x)*(a-x)+(b-y)*(b-y));
	zs.opacity=n;n=1;
	zs.transition=zs.webkitTransition=d/1e3+'s linear';
	zs.transform=zs.webkitTransform='translate('+x+'px,'+y+'px)';
	i.style.transform=i.style.webkitTransform=(a>x)?'':'scaleX(-1)';
	a=x;b=y;
	setTimeout(A,d);
};setTimeout(A,r()*3e3);
})();
 
;(function () {
var r=Math.random,n=0,d=document,w=window,
	i=d.createElement('img'),
	z=d.createElement('div'),
	zs=z.style,
	a=w.innerWidth*r(),b=w.innerHeight*r();
zs.position="fixed";
zs.left=0;
zs.top=0;
zs.opacity=0;
z.appendChild(i);
i.src='https://vignette.wikia.nocookie.net/drawntolife/images/c/cd/Bat_Fly.gif/revision/latest?cb=20151222142353';
d.body.appendChild(z);
function R(o,m){return Math.max(Math.min(o+(r()-.5)*400,m-50),50)}
function A(){
	var x=R(a,w.innerWidth),y=R(b,w.innerHeight),
		d=5*Math.sqrt((a-x)*(a-x)+(b-y)*(b-y));
	zs.opacity=n;n=1;
	zs.transition=zs.webkitTransition=d/1e3+'s linear';
	zs.transform=zs.webkitTransform='translate('+x+'px,'+y+'px)';
	i.style.transform=i.style.webkitTransform=(a>x)?'':'scaleX(-1)';
	a=x;b=y;
	setTimeout(A,d);
};setTimeout(A,r()*3e3);
})();
 
;(function () {
var r=Math.random,n=0,d=document,w=window,
	i=d.createElement('img'),
	z=d.createElement('div'),
	zs=z.style,
	a=w.innerWidth*r(),b=w.innerHeight*r();
zs.position="fixed";
zs.left=0;
zs.top=0;
zs.opacity=0;
z.appendChild(i);
i.src='https://vignette.wikia.nocookie.net/drawntolife/images/c/cd/Bat_Fly.gif/revision/latest?cb=20151222142353';
d.body.appendChild(z);
function R(o,m){return Math.max(Math.min(o+(r()-.5)*400,m-50),50)}
function A(){
	var x=R(a,w.innerWidth),y=R(b,w.innerHeight),
		d=5*Math.sqrt((a-x)*(a-x)+(b-y)*(b-y));
	zs.opacity=n;n=1;
	zs.transition=zs.webkitTransition=d/1e3+'s linear';
	zs.transform=zs.webkitTransform='translate('+x+'px,'+y+'px)';
	i.style.transform=i.style.webkitTransform=(a>x)?'':'scaleX(-1)';
	a=x;b=y;
	setTimeout(A,d);
};setTimeout(A,r()*3e3);
})();
 
;(function () {
var r=Math.random,n=0,d=document,w=window,
	i=d.createElement('img'),
	z=d.createElement('div'),
	zs=z.style,
	a=w.innerWidth*r(),b=w.innerHeight*r();
zs.position="fixed";
zs.left=0;
zs.top=0;
zs.opacity=0;
z.appendChild(i);
i.src='https://vignette.wikia.nocookie.net/drawntolife/images/c/cd/Bat_Fly.gif/revision/latest?cb=20151222142353';
d.body.appendChild(z);
function R(o,m){return Math.max(Math.min(o+(r()-.5)*400,m-50),50)}
function A(){
	var x=R(a,w.innerWidth),y=R(b,w.innerHeight),
		d=5*Math.sqrt((a-x)*(a-x)+(b-y)*(b-y));
	zs.opacity=n;n=1;
	zs.transition=zs.webkitTransition=d/1e3+'s linear';
	zs.transform=zs.webkitTransform='translate('+x+'px,'+y+'px)';
	i.style.transform=i.style.webkitTransform=(a>x)?'':'scaleX(-1)';
	a=x;b=y;
	setTimeout(A,d);
};setTimeout(A,r()*3e3);
})();
 
 
/* Background changes */
/* Fallback background. - Doesn't work well using CSS as it overrides JS. */
$('.skin-oasis').css('background', 'url(https://vignette.wikia.nocookie.net/drawntolife/images/a/aa/WW_Crumbling_Keep_Wallpaper.png/revision/latest?cb=20160727225057) bottom center no-repeat fixed');
$('.skin-oasis').css('background-size', 'cover');

/* SECOND GAME */
if ($.inArray("Drawn to Life: The Next Chapter", mw.config.get('wgCategories')) > -1) {
 
    $(function () {
 
        "use strict";
 
    $('.skin-oasis').css('background', 'url(https://vignette.wikia.nocookie.net/drawntolife/images/a/aa/WW_Crumbling_Keep_Wallpaper.png/revision/latest?cb=20160727225057) bottom center no-repeat fixed');
 
    $('.skin-oasis').css('background-size', 'cover');
 
    });
}
 
 
/* FIRST GAME */
if ($.inArray("Drawn to Life", mw.config.get('wgCategories')) > -1) {
 
    $(function () {
 
        "use strict";
 
     $('.skin-oasis').css('background', 'url(https://vignette.wikia.nocookie.net/drawntolife/images/3/34/ShadowLairBG.png/revision/latest?cb=20160902001228) bottom center no-repeat fixed');
 
    $('.skin-oasis').css('background-size', 'cover');
 
    });
}