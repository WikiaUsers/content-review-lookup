//
// Last Modified: 8th January 2015, 23:10
// This is the wiki-wide javascript file.
// Anything below will be loaded on all wiki-styles.
//
// Please make sure any code snippets below adhere to
// the Wikia Customisation policy.
//
// Do NOT edit this file if you do not know what you are doing!
//

// jQuery code snippets.
// Use this for any minor fixes with jquery.
(function (window, $, mw) {
	"use strict";
  
	// Fix images on threads (image line breaks and looks messy)
	$(".msg-body img").unwrap();

        // This code snippet is for all sysop-only tools.
        // Anything here will only load if the user has
        // the sysop flag.
        if($.inArray("sysop", wgUserGroups) !=-1) {
            mw.util.addPortletLink("AccountNavigation", "/wiki/Special:AdminDashboard", "Dashboard", "p-dashboard");
            mw.util.addPortletLink("AccountNavigation", "/wiki/Special:UserRights", "Manage Rights", "p-userrights");
            importScriptPage('AjaxBatchDelete/code.js', 'dev');
            importScriptPage('CacheCheck/code.js', 'dev');
        }
}(window, jQuery, mediaWiki));

// AjaxRC
window.ajaxPages = ["Special:WikiActivity","Special:Log","Special:RecentChanges"];
window.ajaxIndicator = 'https://images.wikia.nocookie.net/__cb20100609110347/software/images/a/a9/Indicator.gif';
window.AjaxRCRefreshText = 'Auto Refresh';
window.AjaxRCRefreshHoverText = 'Silently refreshes the contents of this page every 60 seconds without requiring a full reload';

// RevealAnonIP
window.RevealAnonIP = {
    permissions : ['user']
};

// ArchiveTool
window.archiveListTemplate = 'ArchiveList';
window.archivePageTemplate = 'ArchivePage';

// This imports various scripts that help the wiki.
// Non-local scripts load first for interoperability.
importArticles({
	type: "script",
	articles: [
                "u:dev:ListFiles/code.js",
                "u:dev:ArchiveTool/code.js",
                "u:dev:RevealAnonIP/code.js",
                "u:dev:NullEditButton/code.js",
                "u:dev:ReferencePopups/code.js",
                "u:dev:User:UltimateSupreme/AjaxRollback.js",
                "u:dev:AjaxRC/code.js",
                "MediaWiki:Common.js/FixUploader.js"
	]
});