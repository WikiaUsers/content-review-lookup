$('<select id="selt_1"><option>Lv. 1</option></select>').appendTo('#sLv_Cal_1');
$('<select id="selt_2"><option>Lv. 1</option></select>').appendTo('#sLv_Cal_2');
$('<input type="image" id="AllMaxBouns" src="https://vignette.wikia.nocookie.net/tos/images/6/6a/UnAMBouns.png/revision/latest?cb=20180723213552&path-prefix=zh" height="42" width="42" style="display:none;">').appendTo('#All_Max_Bouns');

var petid = $('#smid_id').data('id');
$("select[id^='selt_']").each(function(){var $this=$(this),id=this.id,a=parseInt(id[5],10),smid='#smid_'+a,selt='#selt_'+a,smx='#smx_'+a,b=parseInt($(smid).data('slvmin'),10),d=parseInt($(smid).data('slvmax'),10),c=b-(d-1),slv=[];$this.children('option').each(function(){$(this).remove();for(var k=1;k<=c;k++){var e=(k<10)?'Lv. ':'Lv.';slv[k]=k;$(selt).append($('<option></option>').val(k).text(e+k))}$(smx).text(b);$(selt).change(function(){var sed=$this.val();var cdstr=(sed==1)?"\u521d\u59cbCD":(sed>1&&sed<c)?"\u6280\u80fdCD":"\u6700\u5c0fCD";$(smid).text(cdstr);var slted=slv[sed];$(smx).text(b-slted+1)})})});

$.get(mw.util.wikiScript('api'), { format: 'json', action: 'expandtemplates', text: decodeURI('%7B%7B' + petid + '%7CfullstatsMax%7D%7D') }, function (b) {  var c = b.expandtemplates['*'].split(',');  var sM = [parseInt(c[0], 10), parseInt(c[1], 10), parseInt(c[2], 10)],  sMax = sM[0] + sM[1] + sM[2];  var tstat = 'table#monster-data.wikitable td#stats_';  if (isNaN(c[3]) || isNaN(c[4]) || isNaN(c[5])) {   $('#AllMaxBouns').hide();  } else {  $('#AllMaxBouns').show();  var aM = [parseInt(c[3], 10), parseInt(c[4], 10), parseInt(c[5], 10)],  aMax = aM[0] + aM[1] + aM[2];  $('table#monster-data tbody tr:nth-child(6)').each(function() {  $this = $(this);  for (var i = 1; i <= 4; i++) $this.find('td:eq(' + (i - 1) + ')').removeAttr('id').attr('id', 'stats_' + i)  });  $('#AllMaxBouns').on('click', function() {  $this = $(this);  if ($this.hasClass('fb')) {  $this.removeClass('fb');  $this.attr('src', 'https://vignette.wikia.nocookie.net/tos/images/6/6a/UnAMBouns.png/revision/latest?cb=20180723213552&path-prefix=zh');  for (var i = 0; i < 3; i++) $(tstat + (i + 1)).text(sM[i]);  $(tstat + '4').text(sMax);  } else {  $this.addClass('fb');  $this.attr('src', 'https://vignette.wikia.nocookie.net/tos/images/2/2f/AMBouns.png/revision/latest?cb=20151118021820&path-prefix=zh');  var a = 0,  statslist = 0;  for (var j = 0; j < 3; j++) {  statslist = (sM[j] + aM[j]);  $(tstat + (j + 1)).html('<span style="color:yellow;">' + statslist + '</span><br>+' + aM[j]);  a = a + statslist  }  $(tstat + '4').html(a + '<br>+' + aMax);  }  });  } }, 'json');

$('select').css('width', '45px').css('font-size', '9.5pt').css('padding', '1px 0px 1px 5px').css('margin', '0').css('-webkit-border-radius', '4px').css('-moz-border-radius', '4px').css('border-radius', '4px').css('-webkit-box-shadow', '0 3px 0 #ccc, 0 -1px #fff inset').css('-moz-box-shadow', '0 3px 0 #ccc, 0 -1px #fff inset').css('box-shadow', 'inset 1px 1px 2px #ddd8dc').css('background', '#f8f8f8').css('font-weight', 'bold').css('font-family', '"lucida grande",Tahoma,Verdana,Arial,sans-serif').css('border', 'none').css('outline', 'none').css('display', ' inline-block').css('-webkit-appearance', 'none').css('-moz-appearance', 'none').css('appearance', 'none').css('cursor', 'pointer').css('white-space', 'nowrap');