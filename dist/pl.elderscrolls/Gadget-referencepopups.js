((window.dev=window.dev||{}).ReferencePopups=dev.ReferencePopups||{}).defaults={animate:false};window.dev=window.dev||{};dev.ReferencePopups=dev.ReferencePopups||{};dev.ReferencePopups.unload=dev.ReferencePopups.unload||function(){"use strict";delete this.Popup;delete this.configure;if(this.unloadCore){this.unloadCore()}};(function(e,t){"use strict";var n={en:{coreConfigureText:"Configure Reference Popups",coreConfigureHover:"Change settings for Reference Popups"},fr:{coreConfigureText:"Configurer Popups de Référence",coreConfigureHover:"Modifier les préférences pour les Popups de Référence"},it:{coreConfigureText:"Configura le note a popup",coreConfigureHover:"Cambia le impostazioni per le note a popup"},pl:{coreConfigureText:"Skonfiguruj wyskakujące przypisy",coreConfigureHover:"Zmień ustawienia dla wyskakujących przypisów"}};var r=e.messages=e.messages||{};for(var i in n.en){r[i]=r[i]||n[t]&&n[t][i]||n.en[i]}})(dev.ReferencePopups,mediaWiki.config.get("wgUserLanguage"));(function(e,t,n){"use strict";var r=e.dev.ReferencePopups;if(r.Popup){return t.noop}var i=t.Deferred(),s=["jquery.ui.position","jquery.effects.fold","jquery.ui.core","jquery.ui.widget"];n.loader.load(s,null,true);n.loader.using(s,i.resolve,i.reject);var o=e.dev.colors||t.ajax({url:n.config.get("wgLoadScript"),data:{mode:"articles",only:"scripts",articles:"w:dev:Colors/code.js"},dataType:"script",cache:true});if(!r.cssLoaded){e.importArticle({type:"style",article:"w:dev:ReferencePopups/code.css"});r.cssLoaded=true}var u=t.Deferred();r.Popup=u.promise();return function(s){t.when(i,o).done(function(){u.resolve(r.Popup=s(r,e,t,n,e.dev.colors))}).fail(function(){delete r.Popup;u.reject()})}})(window,jQuery,mediaWiki)(function(e,t,n,r,i){"use strict";n.curCSS=n.curCSS||n.css;(function(e,n,r,i){function s(e,t){return e&&e!=="transparent"&&e!=="rgba(0, 0, 0, 0)"?e:t}function o(e,r){try{return n.parse(e)}catch(i){if(t.console){t.console.warn("Colors Parse Error ("+e+"): ",i,i.stack)}return n.parse(r)}}function u(e,t){return"rgba("+e.red()+","+e.green()+","+e.blue()+","+t+")"}if(r.config.get("skin")==="oasis"){e.page=n.parse(n.wikia.page);e.pageBorder=n.parse(n.wikia.border);e.accent=n.parse(n.wikia.menu);e.popText=n.wikia.text}else{var a=i("#content");e.page=o(s(i("#globalWrapper").css("backgroundColor"),a.css("backgroundColor")),"white");e.pageBorder=o(s(a.css("borderLeftColor"),a.css("borderRightColor")),"#AAA");e.accent=o(s(i("#footer").css("borderTopColor"),i("body").css("backgroundColor")),"#fabd23");e.popText=o(i("#mw-content-text").css("color"),"black")}var f;if(e.page.isBright()){e.back=e.page.mix(f="black",95).mix("blue",97)}else{e.back=e.page.mix(f="white",95)}e.popEdge=e.accent.mix(e.pageBorder,90);e.backA=u(e.back,.95);e.backB=u(e.back.mix(f,99),.95);e.backC=u(e.back.mix(f,97),.95);n.css(".refpopups-box {background-color: $back;		color: $popText;border-color: $popEdge;background: -webkit-linear-gradient(30deg, $backA, $backB 15%, $backB 25%, $backA 40%, $backA 50%, $backB 60%, $backB 70%, $backC 70%, $backC 90%, $backA 92%);background: linear-gradient(60deg, $backA, $backB 15%, $backB 25%, $backA 40%, $backA 50%, $backB 60%, $backB 70%, $backC 70%, $backC 90%, $backA 92%);}.refpopups-chevron-in {border-top-color: $back;border-top-color: $backA;}.refpopups-flipped > .refpopups-chevron-in {border-bottom-color: $back;border-bottom-color: $backA;}.refpopups-chevron-out {border-top-color: $popEdge;}.refpopups-flipped > .refpopups-chevron-out {border-bottom-color: $popEdge;}",e)})(e.colors=e.colors||{},i,r,n);var s=0;n.widget("Lunarity.referencePopup",{options:{activateBy:"hover",hoverDelay:200,content:"",disabled:false,visible:false,animation:"fold",animSpeed:300,context:null,escapeCloses:true,extraClass:"",contentBoxClass:"",stickyHover:false,open:null,close:null},_create:function(){if(!this.document){this.document=n(this.element[0].ownerDocument);this.window=n(this.document[0].defaultView||this.document[0].parentWindow);this.eventNamespace="."+this.widgetBaseClass+s++}this._timeouts={};this._$popup=n('<div class="refpopups-popup" id="'+this.eventNamespace.substr(1)+'">'+'<div class="refpopups-chevron-out"></div>'+'<div class="refpopups-chevron-in"></div>'+'<div class="refpopups-box">'+"</div></div>").addClass(this.options.extraClass).find("> .refpopups-box").addClass(this.options.contentBoxClass).end();this.options.context=n(this.document.find(this.options.context)[0]);if(!this.options.context.length){this.options.context=n(this.document[0].body)}this._setOption("activateBy",this.options.activateBy==="click"?"click":"hover");this._updateContent();if(!this.options.disabled){this.options.disabled=true;this.enable()}if(this.options.visible){this.options.visible=false;this.show()}},_clearTimeout:function(e){if(this._timeouts[e]!=null){t.clearTimeout(this._timeouts[e]);this._timeouts[e]=null}},_setTimeout:function(e,n,r){this._clearTimeout(e);var i=this;this._timeouts[e]=t.setTimeout(function(){i._timeouts[e]=null;n.call(i)},r||0)},_installEvents:function(){var e=this,t,r=this.eventNamespace;this._$popup.off(r);this.element.off(r);this._clearTimeout("open");this._clearTimeout("close");if(this.options.disabled){return}if(this.options.activateBy==="hover"){t={};t["mouseenter"+r]=function(){e._clearTimeout("close")};t["mouseleave"+r]=function(t){e._setTimeout("close",function(){this.hide(t)},e.options.hoverDelay)};this._$popup.on(t);t={};t["mouseenter"+r]=function(t){e._clearTimeout("close");e._setTimeout("open",function(){this.show(t)},e.options.hoverDelay)};t["mouseleave"+r]=function(t){e._clearTimeout("open");if(!e.options.stickyHover){e._setTimeout("close",function(){this.hide(t)},e.options.hoverDelay)}};this.element.on(t)}var i;t={};t["touchEnd"+r]=function(e){i=e.originalEvent};t["click"+r]=function(t){if(e.options.activateBy!=="click"&&(!i||i.defaultPrevented)||e.options.disabled){return}i=null;if(!e.options.visible){t.preventDefault();e.show(t)}else{e.hide(t)}};if(this.options.escapeCloses){var s=function(t){if(t.which===n.ui.keyCode.ESCAPE){e.hide(t)}};t["keyup"+r]=s;this._$popup.on("keyup"+r,s)}this.element.on(t);t=null},triggerHover:function(e){if(this.options.activateBy==="hover"){this._setTimeout("open",function(){this.show(e)},this.options.hoverDelay)}},destroy:function(){this.hide();this._$popup.remove();this.element.off(this.eventNamespace);return n.Widget.prototype.destroy.call(this)},_updateContent:function(e){e=e||this.options.content||"";if(!e.jquery&&!e.nodeType){this.options.content=e=n(n(this.document[0].createElement("div")).html(e).contents().unwrap())}this._$popup.find("> .refpopups-box").empty().append(e)},_describeAria:function(e){var t="aria-describedby",r=this.element.attr(t),i=r?r.split(/\s+/g):[],s=this._$popup[0].id,o=n.inArray(s,i);if(o!==-1){if(!e){i.splice(o,1)}}else if(e){i.push(s)}r=i.join(" ");this.element[r?"attr":"removeAttr"](t,r)},show:function(e){if(this.options.visible||this.options.disabled){return}this.options.context.append(this._$popup.stop(true,true));this._positionPopup();this._describeAria(true);if(this.options.animation){this._$popup.hide().show(this.options.animation,this.options.animSpeed)}var r=0,i=this,s=this.eventNamespace;this.window.on("scroll"+s+" resize"+s,function o(){if(++r!==1){return}i._positionPopup();t.setTimeout(function(){var e=r;r=0;if(e>1&&i.options.visible){o()}},100)});if(this.options.activateBy==="click"){this.document.on("click"+s,function(e){if(!n(e.target).closest(i._$popup.add(i.element)).length){i.hide()}})}this.options.visible=true;this._trigger("open",e)},hide:function(e){if(!this.options.visible){return}this.document.off(this.eventNamespace);this.window.off(this.eventNamespace);if(this.options.animation){var t=this._$popup.clone();this._$popup.after(t);t.hide(this.options.animation,this.options.animSpeed,function(){t.remove()})}this._$popup.detach();this._describeAria(false);this.options.visible=false;this._trigger("close",e)},toggle:function(e){e=e!==void 0?e:!this.options.visible;this[e?"show":"hide"]()},_setOption:function(e,t){switch(e){case"disabled":if(t&&this.options.visible){this.hide()}this.options.disabled=!!t;this._installEvents();return;case"visible":this[t?"show":"hide"]();return;case"activateBy":if({hover:1,click:1}[t]===1){this.options.activateBy=t;this._installEvents()}return;case"content":this.options.content=t;this._updateContent();return;case"context":return;case"extraClass":this._$popup[0].className="refpopups-popup";this._$popup.addClass(t);break;case"extraBoxClass":this._$popup.find("> .refpopups-box").prop("className","refpopups-box").addClass(t);break}return n.Widget.prototype._setOption.call(this,e,t)},_positionPopup:function(){var e=this._$popup.removeClass("refpopups-flipped"),t=this.element,n=e.find("> .refpopups-chevron-out"),r=0;if(n.is(":visible")){r=n.position().top+n.outerHeight()-e.outerHeight()}e.position({my:"bottom",at:"top",of:t,collision:"fit none",offset:"0 -"+r});var i=t.offset().top,s=i+t[0].offsetHeight,o=e[0].offsetHeight+r,u=this.window.scrollTop();i=i-u;s=u+this.window.height()-s;if(i<o&&i<s){e.addClass("refpopups-flipped").position({my:"top",at:"bottom",of:t,collision:"fit none",offset:"0 "+r})}if(!r){return}var a=e.find("> .refpopups-chevron-in"),f=t.offset().left-e.offset().left+t.outerWidth()/2;n.css("left",f-n.outerWidth()/2+"px");a.css("left",f-a.outerWidth()/2+"px")}});return n.Lunarity.referencePopup});(function(e,t){"use strict";var n=e.dev.ReferencePopups;if(n.unloadCore){return t.noop}n.unloadCore=t.noop;return function(r){t.when(n.Popup).done(function(){r(n,e,t,e.mediaWiki)}).fail(function(){delete n.unloadCore})}})(window,jQuery)(function(e,t,n,r){"use strict";function a(e){if(u&&u.element.is(e)){return}if(o){if(o.element.is(e)){return}o.destroy()}return o=p(n(e))}function f(){if(u){u.destroy()}if(o){o.destroy()}u=o=null}function l(){var e=n("#mw-content-text");e.off("mouseenter.RefPopups");if(s.disabled){return}if(s.react!=="hover"){if(u){u.option("activateBy","click")}if(o){o.option("activateBy","click")}return}e.on("mouseenter.RefPopups",".reference",function(){var e=a(this);if(e){e.triggerHover()}});if(u){u.option("activateBy","hover")}if(o){o.option("activateBy","hover")}}function h(o){o.preventDefault();var u=function(){c=false},a=function(r){r(s,function(r){i.set("RefPopupsJS",r);f();l();n(t).trigger("dev-ReferencePopups-config",e.settings=n.extend({},r))},u)};if(c){return}c=true;if(e.configure){n.when(e.configure).done(a).fail(u);return}n.ajax({url:r.config.get("wgLoadScript"),data:{mode:"articles",only:"scripts",articles:"w:dev:ReferencePopups/code.configure.js"},dataType:"script",cache:true}).then(function(){n.when(e.configure).done(a).fail(u)}).fail(u)}function p(t){var r=t.find('a[href^="#cite_note"]').first();if(!r.length){return null}var i=n(r.attr("href").replace(/\./g,"\\."));if(!i.length){return null}var o=n('<div style="overflow:auto">'),u=n('<a href="#" class="refpopups-configure" />').prop("title",e.messages.coreConfigureHover).click(h);o.append(i.find(".reference-text").clone());return new e.Popup({content:u.add(o),activateBy:s.react,hoverDelay:s.hoverDelay,animation:s.animate&&"fold",stickyHover:s.stick,contentBoxClass:"WikiaArticle"},t[0])}var i={get:function(e){try{return JSON.parse(t.localStorage.getItem(e))}catch(n){return null}},set:function(e,n){try{t.localStorage.setItem(e,JSON.stringify(n))}catch(r){}}};var s=function(t,n){if(typeof t!=="object"||t===null){t={}}if({hover:1,click:1}[t.react]!==1){t.react="hover"}t.hoverDelay=t.hoverDelay||n.hoverDelay||200;t.animate=t.animate===void 0?n.animate===void 0||n.animate:!!t.animate;t.disabled=!!t.disabled&&!e.lockdown;t.stick=t.stick===void 0?n.stick!==void 0&&n.stick:!!t.stick;return t}(i.get("RefPopupsJS"),e.defaults||{});var o=null,u=null;n(function(e){var n;e("#mw-content-text").on({"touchEnd.RefPopups":function(e){n=e.originalEvent},"click.RefPopups":function(e){if((!n||n.defaultPrevented)&&s.react!=="click"||s.disabled){return}n=null;var t=a(this);if(t){e.preventDefault();t.show(e)}},"referencepopupopen.RefPopups":function(){if(!o||!o.element.is(this)){return}var e=u;u=o;o=null;if(e){e.destroy()}},"referencepopupclose.RefPopups":function(){if(!u||!u.element.is(this)){return}if(o){u.destroy()}else{o=u}u=null}},".reference");e(t).on("pagehide.RefPopups",f);l()});if(!e.lockdown){n(function(t){t("#WikiaArticleCategories, #catlinks").first().before(t('<a href="#configure-refpopups" class="refpopups-configure-page" />').html("["+e.messages.coreConfigureText+"]").click(h).appendTo(this))})}e.unloadCore=function(){n("#mw-content-text").off(".RefPopups");n(t).off(".RefPopups");n('a[href="#configure-refpopups"]').remove();f();delete this.unloadCore};n(t).trigger("dev-ReferencePopups-config",e.settings=n.extend({},s));var c=false})