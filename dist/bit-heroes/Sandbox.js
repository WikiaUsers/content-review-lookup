const styleSheet = document.createElement('style');
styleSheet.innerHTML = '#calculator-container {width: 100%;}' +
    '#if-calculator {width: 250px;text-align: center;border: 1px solid #bfcfcf;background-color: #f9fcff;padding: 8px 10px;margin: 0 auto;}' +
    '#if-calculator input + input {margin-left: .5em;}' +
    '#if-values {margin-top: 1em;}' +
    '#if-values p {margin: 0;}' +
    '#if-values span {font-weight: 700;}';
document.head.appendChild(styleSheet);
const ifCalculator = document.getElementById('if-calculator');

var innerHTMLString = '<br>';
innerHTMLString += '<h1 style="color: green">';
innerHTMLString += 'Standard Item Find Calculator';
innerHTMLString += '</h1>';
innerHTMLString += '<p><label for="runesBonus">Runes: </label>';
innerHTMLString += '<select id="selectLeftRune">';
innerHTMLString += '<optgroup label="Left Minor Rune">';
innerHTMLString += '<option value="0">Not Item Find</option>';
innerHTMLString += '<option value="7.5">Common(Green)</option>';
innerHTMLString += '<option value="15">Rare (Blue)</option>';
innerHTMLString += '<option value="22.5">Epic (Red)</option>';
innerHTMLString += '<option value="30">Legendary (Gold)</option>';
innerHTMLString += '<option value="37.5">Mythic (DeepRed)</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '<select id="selectRightRune">';
innerHTMLString += '<optgroup label="Right Minor Rune">';
innerHTMLString += '<option value="0">Not Item Find</option>';
innerHTMLString += '<option value="7.5">Common(Green)</option>';
innerHTMLString += '<option value="15">Rare (Blue)</option>';
innerHTMLString += '<option value="22.5">Epic (Red)</option>';
innerHTMLString += '<option value="30">Legendary (Gold)</option>';
innerHTMLString += '<option value="37.5">Mythic (DeepRed)</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '<br>';
innerHTMLString += '<p><label for="guildBonus">Guild Bonus: </label>';
innerHTMLString += '<select id="guildBonus">';
innerHTMLString += '<optgroup label="Guild IF Rank">';
innerHTMLString += '<option value="0">No Bonus - Rank 0</option>';
innerHTMLString += '<option value="3">3% - Rank 1</option>';
innerHTMLString += '<option value="5">5% - Rank 2</option>';
innerHTMLString += '<option value="8">8% - Rank 3</option>';
innerHTMLString += '<option value="10">10% - Rank 4</option>';
innerHTMLString += '<option value="13">13% - Rank 5</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '<p><label for="consumableBonus">Consumable: </label>';
innerHTMLString += '<select id="consumableBonus">';
innerHTMLString += '<optgroup label="Named">';
innerHTMLString += '<option value="0">No Bonus</option>';
innerHTMLString += '<option value="350">Annigor</option>';
innerHTMLString += '<option value="50">Average Scroll (Blue)</option>';
innerHTMLString += '<option value="500">Bitgor</option>';
innerHTMLString += '<option value="200">Bubgor</option>';
innerHTMLString += '<option value="200">Bugcor</option>';
innerHTMLString += '<option value="200">Bytegor</option>';
innerHTMLString += '<option value="75">Broccoli</option>';
innerHTMLString += '<option value="75">Coco</option>';
innerHTMLString += '<option value="800">Colgor</option>';
innerHTMLString += '<option value="75">Delicious Feast</option>';
innerHTMLString += '<option value="75">Glorious Feast</option>';
innerHTMLString += '<option value="200">Item Find Tome (Gold)</option>';
innerHTMLString += '<option value="25">Minor Scroll (Green)</option>';
innerHTMLString += '<option value="100">Major Scroll (Red)</option>';
innerHTMLString += '<option value="500">Odagor</option>';
innerHTMLString += '<option value="150">Super Scroll</option>';
innerHTMLString += '<option value="1200">Ultragor</option>';
innerHTMLString += '<option value="250">WeekGor(168 hour)</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Number">';
innerHTMLString += '<option value="25">25%</option>';
innerHTMLString += '<option value="50">50%</option>';
innerHTMLString += '<option value="75">75%</option>';
innerHTMLString += '<option value="100">100%</option>';
innerHTMLString += '<option value="150">150%</option>';
innerHTMLString += '<option value="200">200%</option>';
innerHTMLString += '<option value="250">250%</option>';
innerHTMLString += '<option value="300">300%</option>';
innerHTMLString += '<option value="350">350%</option>';
innerHTMLString += '<option value="500">500%</option>';  
innerHTMLString += '<option value="600">600%</option>';
innerHTMLString += '<option value="800">800%</option>';
innerHTMLString += '<option value="1200">1200%</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '<p><label for="dailyBonus">Daily Bonus: </label>';
innerHTMLString += '<select id="dailyBonus">';
innerHTMLString += '<option value="0">Monday</option>';
innerHTMLString += '<option value="45">Tuesday</option>';
innerHTMLString += '<option value="0">Wednesday</option>';
innerHTMLString += '<option value="0">Thursday</option>';
innerHTMLString += '<option value="0">Friday</option>';
innerHTMLString += '<option value="45">Saturday</option>';
innerHTMLString += '<option value="75">Sunday</option>';
innerHTMLString += '</select>';
innerHTMLString += '<p><label for="adgorBonus">Adgor/Permagor: </label>';
innerHTMLString += '<select id="adgorBonus">';
innerHTMLString += '<option value="0">None</option>';
innerHTMLString += '<option value="50">Adgor</option>';
innerHTMLString += '<option value="50">Permagor</option>';
innerHTMLString += '</select>';
innerHTMLString += '<p><label for="encounterBonus">Encounter Bonus: </label>';
innerHTMLString += '<select id="encounterBonus">';
innerHTMLString += '<optgroup label="Dungeons">';
innerHTMLString += '<option value="1.5">Dungeon-Normal</option>';
innerHTMLString += '<option value="3">Dungeon-Hard</option>';
innerHTMLString += '<option value="4.5">Dungeon-Heroic</option>';
innerHTMLString += '<option value="3">Dungeon-D4</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Invasion">';
innerHTMLString += '<option value="1">Invasion - Any Amount</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="PVP">';
innerHTMLString += '<option value="1">Tickets - Any Amount</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Raids">';
innerHTMLString += '<option value="1">Raid-Normal</option>';
innerHTMLString += '<option value="3">Raid-Hard</option>';
innerHTMLString += '<option value="5">Raid-Heroic</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Trials or Guantlet">';
innerHTMLString += '<option value="1">T/G 1 Token</option>';
innerHTMLString += '<option value="2">T/G 2 Tokens</option>';
innerHTMLString += '<option value="2">T/G 3 Tokens</option>';
innerHTMLString += '<option value="3">T/G 4 Tokens</option>';
innerHTMLString += '<option value="3.5">T/G 5 Tokens</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="WorldBoss">';
innerHTMLString += '<option value="1">WB-Normal</option>';
innerHTMLString += '<option value="1.25">WB-Hard</option>';
innerHTMLString += '<option value="1.5">WB-Heroic</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';   
innerHTMLString += '<br><br><button onclick="calculateIF()"> Calculate </button>';
innerHTMLString += '<p> Your active IF is:';
innerHTMLString += '<span class="output"></span>';
innerHTMLString += '</p>';
innerHTMLString += '<br>';
innerHTMLString += '____________________________________________________________________';
innerHTMLString += '<h1 style="color: green">';
innerHTMLString += 'Simple Item Find Calculator';
innerHTMLString += '</h1>';
innerHTMLString += '<b> Enter the Value from your Item Find on the information screen of your character sheet as shown. ';
innerHTMLString += '<input id="currentIF" type="text" name="text" Value="100" >';
innerHTMLString += '</b>';
innerHTMLString += '<p> Select one from the given options:';
innerHTMLString += '<select id="select1">';
innerHTMLString += '<optgroup label="Raids">';
innerHTMLString += '<option value="1">Raid-Normal</option>';
innerHTMLString += '<option value="3">Raid-Hard</option>';
innerHTMLString += '<option value="5">Raid-Heroic</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Trials or Guantlet">';
innerHTMLString += '<option value="1">1 Token</option>';
innerHTMLString += '<option value="2">2 Tokens</option>';
innerHTMLString += '<option value="2">3 Tokens</option>';
innerHTMLString += '<option value="3">4 Tokens</option>';
innerHTMLString += '<option value="3.5">5 Tokens</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Dungeons">';
innerHTMLString += '<option value="1.5">Dungeon-Normal</option>';
innerHTMLString += '<option value="3">Dungeon-Hard</option>';
innerHTMLString += '<option value="4.5">Dungeon-Heroic</option>';
innerHTMLString += '<option value="3">Dungeon-D4</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Tickets">';
innerHTMLString += '<option value="1">Any Amount</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Invasion">';
innerHTMLString += '<option value="1">Any Amount</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="WorldBoss">';
innerHTMLString += '<option value="1">WB-Normal</option>';
innerHTMLString += '<option value="1.25">WB-Hard</option>';
innerHTMLString += '<option value="1.5">WB-Heroic</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '<p> Your active IF is:';
innerHTMLString += '<span class="simpleOutput"></span>';
innerHTMLString += '</p>';
innerHTMLString += '<button onclick="calculateTinfoilIF()"> Calculate </button>';
innerHTMLString += '<br>';
innerHTMLString += '____________________________________________________________________';
innerHTMLString += '<br>';
innerHTMLString += '<h1 style="color: green">';
innerHTMLString += 'Simple Critter Capture Rate Calculator';
innerHTMLString += '</h1>';
innerHTMLString += '<b> Enter the Value from your Capture Rate on the information screen of your character sheet as shown. ';
innerHTMLString += '<input id="currentCap" type="text" name="text" Value="100" >';
innerHTMLString += '</b>';
innerHTMLString += '<p> Select one from the given options:';
innerHTMLString += '<select id="select1">';
innerHTMLString += '<optgroup label="Raids">';
innerHTMLString += '<option value="1">Raid-Normal</option>';
innerHTMLString += '<option value="1.5">Raid-Hard</option>';
innerHTMLString += '<option value="2">Raid-Heroic</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '<optgroup label="Dungeons">';
innerHTMLString += '<option value="1">Dungeon-Normal</option>';
innerHTMLString += '<option value="2">Dungeon-Hard</option>';
innerHTMLString += '<option value="3">Dungeon-Heroic</option>';
innerHTMLString += '<option value="1.5">Dungeon-D4</option>';
innerHTMLString += '</optgroup>';
innerHTMLString += '</select>';
innerHTMLString += '</p>';
innerHTMLString += '<button onclick="calculateCapture()"> Calculate </button>';
innerHTMLString += '<p> Your active Capture Rate is:';
innerHTMLString += '<span class="captureOutput"></span><br>';
innerHTMLString += '<br>';
innerHTMLString += '<br><b>Chance for a pop up on this specific Run:</b> <br>';
innerHTMLString += '<b>Dungeons</b><br>';
innerHTMLString += 'Common Dungeon Fam:<span class="CommonDungeonFam"></span> <br>';
innerHTMLString += 'Rare Dungeon Fam:<span class="RareDungeonFam"></span> <br>';
innerHTMLString += 'Epic Dungeon Fam:<span class="EpicDungeonFam"></span> <br>';
innerHTMLString += '<b>Raids</b><br>';
innerHTMLString += 'Epic Raid Fam:<span class="EpicRaidFam"></span> <br>';
innerHTMLString += 'Legendary Raid Fam:<span class="LegRaidFam"></span> <br>';
innerHTMLString += '</p>';
innerHTMLString += '<br><b>Chance for Capture on this specific Run:</b> <br>';
innerHTMLString += '<b>Dungeons</b><br>';
innerHTMLString += 'Common Dungeon Fam:<span class="CommonDungeonFamPercentage"></span> <br>';
innerHTMLString += 'Rare Dungeon Fam:<span class="RareDungeonFamPercentage"></span> <br>';
innerHTMLString += 'Epic Dungeon Fam:<span class="EpicDungeonFamPercentage"></span> <br>';
innerHTMLString += '<b>Raids</b><br>';
innerHTMLString += 'Epic Raid Fam:<span class="EpicRaidFamPercentage"></span> <br>';
innerHTMLString += 'Legendary Raid Fam:<span class="LegRaidFamPercentage"></span> <br>';
	
ifCalculator.innerHTML = innerHTMLString;

(function () {
    function calculateTinfoilIF() {
        var eventBonusString = document.querySelector('#select1').value;
        var eventbonus = Number.parseFloat(eventBonusString,10);
		var baseIF = Number.parseFloat(document.querySelector('#currentIF').value,10);
		var output = (baseIF+100) * (eventbonus);
		document.querySelector('.simpleOutput').textContent = output + "% Out of a maximum of 3500%";
	}
    function calculateCapture() {
        var eventBonusString = document.querySelector('#select1').value;
        var eventbonus = Number.parseFloat(eventBonusString,10);
		var baseIF = Number.parseFloat(document.querySelector('#currentCap').value,10);
		var output = (baseIF+100) * (eventbonus);
		var RaidFamPercentage = .1;
        var Common = 4;
        var Rare = 2.5;
        var Epic = 1.5
        var Leg = 1;
        var CapturePercentCommon = 0.4;
        var CapturePercentRare = 0.2;
        var CapturePrecentEpic = 0.15;
        var CapturePrecentLeg = 0.1;
        var percentage = .01;
		var BaseChancePerRunCommonDUngeon = output * Common * percentage;
		var BaseChancePerRunRareDungeon = output * Rare * percentage;
        var BaseChancePerRunEpicDungeon = output *Epic * percentage;		
        var BaseChancePerRunEpicRaid =	output * Epic * RaidFamPercentage* percentage;	
        var BaseChancePerRunLegRaid =   output * Leg * RaidFamPercentage* percentage;	
 		var BaseChancePerRunCommonDUngeonPercentage =  output * Common * percentage * CapturePercentCommon;
		var BaseChancePerRunRareDungeonPercentage = output * Rare * percentage * CapturePercentRare;
        var BaseChancePerRunEpicDungeonPercentage = output *Epic * percentage * CapturePrecentEpic;		
        var BaseChancePerRunEpicRaidPercentage =	output * Epic * RaidFamPercentage* percentage * CapturePrecentEpic;	
        var BaseChancePerRunLegRaidPercentage =   output * Leg * RaidFamPercentage* percentage * CapturePrecentLeg;	
 	    document.querySelector('.CommonDungeonFam').textContent = BaseChancePerRunCommonDUngeon +"%"; 
        document.querySelector('.RareDungeonFam').textContent = BaseChancePerRunRareDungeon +"%";  
        document.querySelector('.EpicDungeonFam').textContent = BaseChancePerRunEpicDungeon +"%";  
        document.querySelector('.EpicRaidFam').textContent = BaseChancePerRunEpicRaid +"%";  
        document.querySelector('.LegRaidFam').textContent = BaseChancePerRunLegRaid +"%"; 
 	    document.querySelector('.CommonDungeonFamPercentage').textContent = BaseChancePerRunCommonDUngeonPercentage +"%"; 
        document.querySelector('.RareDungeonFamPercentage').textContent = BaseChancePerRunRareDungeonPercentage +"%";  
        document.querySelector('.EpicDungeonFamPercentage').textContent = BaseChancePerRunEpicDungeonPercentage +"%";  
        document.querySelector('.EpicRaidFamPercentage').textContent = BaseChancePerRunEpicRaidPercentage +"%";  
        document.querySelector('.LegRaidFamPercentage').textContent = BaseChancePerRunLegRaidPercentage +"%"; 
        document.querySelector('.captureOutput').textContent = output + "% Out of a maximum of 3500%";
	}

    function calculateIF() {
        var inputRunesBonus1 = Number.parseFloat(document.querySelector('#selectLeftRune').value);
        var inputRunesBonus2 = Number.parseFloat(document.querySelector('#selectRightRune').value);
        var inputGuildBonus = Number.parseFloat(document.querySelector('#guildBonus').value);
        var inputConsumableBonus = Number.parseFloat(document.querySelector('#consumableBonus').value);
        var inputDailyBonus = Number.parseFloat(document.querySelector('#dailyBonus').value);
        var inputAdgorBonus = Number.parseFloat(document.querySelector('#adgorBonus').value);
        var inputEncounterBonus = Number.parseFloat(document.querySelector('#encounterBonus').value);
        var totalBonuses = 100 + inputRunesBonus1 + inputRunesBonus2 + inputGuildBonus + inputConsumableBonus + inputDailyBonus + inputAdgorBonus;
        var output = (totalBonuses) * (inputEncounterBonus);
		document.querySelector('.output').textContent = output + "% Out of a maximum of 3500%";
    } 
}());